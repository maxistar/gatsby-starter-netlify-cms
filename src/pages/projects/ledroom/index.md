---
templateKey: about-page
path: /projects/ledroom
title: Led Room
---
Подсветка комнаты светодиодной лентой WS1248b.

В качестве контроллера используется ESP32. В качества прошивки используется проект WLED.

Управляющая плата может быть на базе ESP32 или ESP8266. В любом исполнении.

Я выбрал связку ESP32 WROOM с макетной платой как наиболее простой вариант, Если вы не уверены в своих навыках в работе с паяльником лучше выбрать уже готовый модуль.

Для этого проекта нам потребуется следующие компоненты:

1. центральный процессор на базе ESP32.
2. блок питания в зависимости от длинная ленты
3. сама лента
4. стабилизатор на три вольта
5. несколько резисторов
6. провода и колодки
7. Макетная на плата
8. Плата для программирования
9. Коннекторы и провода по вкусу



Прежде всего соединим все компоненты согласно схеме. Ленту следует подключить к ноге D2 через токоограничивающий резистор 330 Ом. Я припаиваю пару резисторов для подтяжки кнопок сброса и программирования на плату, хотя возможно, будет работать и без них.

При пайке нужно быть осторожным чтобы все компоненты были размещены идеально ровно, иначе придётся начинать все сначала.

Для питания esp32 необходимо стабилизированные питание 3.3 вольта для чего соединим выход step down стабилизатора с выводами питания микроконтроллера. Если стабилизатор регулируемый на забудьте предварительно выставить уровень выходного напряжения на уровень 3.3 вольта! Для программирования модуля я вывел четыре ноги на гребёнку для удобства, но можно этого не делать если вы уверены что вам это не понадобится и у вас все заработает с первого раза.

После того как все компоненты подключены зальем прошивку. Первый раз прошивку нужно залить через компьютер в дальнейшем можно будет использовать обновление по воздуху.

После того как прошивка успешно залилась устройство начнет работать в режиме точки доступа. Подключитесь к новой точке доступа которая имеет имя AP WLED и укажите имя вашей WiFi сети и пароль к ней. При этом можно указать статический IP адрес чтобы в дальнейшем его не пришлось узнавать на роутере. После сохранения настроек устройство будет перезагружено и к нему уже будет можно зайти из локальной сети.

Статический адрес устройства может оказаться также полезным если вы планируете управлять устройством через андроид приложение в котором можно зарегистрировать все доступное аналогичные устройства в вашей локальной сети.

К устройству можно также обратиться по адресу mDNS но эта функция работает только на настольных компьютерах.

Обновление по воздуху. После того как устройство загрузилась и работает его можно обновлять по воздуху, что очень удобно ведь для этого вам не нужно его разбирать и подносить к компьютеру. Просто выберите при прошивке в Ардуино удаленное сетевое устройство и пролейте его.

Альтернативно можно просто залить прошивку через веб интерфейс самого устройства в браузере. Для этого прошивку сначала нужно скомпилировать в виде двоичного файла или скачать готовый файл из репозитория.

После обновления устройство будет стоит с автоматически перезагружено.



Решение проблем.

Устройство теряет сеть.

Лента подмигивает.

Устройство не загружается.

При конфигурации указан неправильные настройки сети.